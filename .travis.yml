language: python
sudo: false
cache:
  pip: true
python:
- '2.7'
install:
- pip install six
- pip install -U -r requirements.txt
- pip install codacy-coverage
script:
- invoke test
- echo "finished running tests on repo"
- echo " now deploy core lambda pacakges"
- if [ "$TRAVIS_BRANCH" = "production" ]; then echo "Test succeeded! PUBLISHING LAMBDAs";
  invoke deploy all; fi
after_success:
- python-codacy-coverage -r coverage.xml
env:
  global:
  - secure: oD66frJIPm08Rg3oM1wpIGFScT2OvWtJwnQ8QwNxu9SYTYG0A5S2XTBDGi539FV5+u1DLUm3A2+EEiGchsef0LBJg71PdSjf06smSXLqdSxElmVqDLr52FLTio8EExNiMepKKVX9N+6x+AlGfE6GlkCB/RWj7m5CHguTBBL6RTGFejpRSHaJuZGVQJ3LuPiyheDax9fD5jL2SEehCUyS2ooHDlEMatbhfVdcSaUXYunqZr3wNow0DQ0wTs6z0dRdUPnVvuwVtrvOlnhgn5gXC24RpyxCvNkIzsA50Xm8m5N3Em+zJWcpkAIJbec1xJwUQburqUyUuxgjl6EL3Y+ca/Zc2Fsyx6JsunO0a+3nv6M//OwS8kcmJKrlYp/ldfYMGHlV1V1+8eoKCXPxcNF7OMlX4ipn+wtqPGLzk5yepTkuewNFVZyoBw2L9eqwMIsqYQswxK+SHebIfTWuUPEmgqp7Q/MOL/g7NvyeLeTqUGjkawItjSZiYjiKMWuimUj8QiFPghKwM4HAALRufhEpk3qTCjH+rrzaE+11vrOiFz0bv6eP7kxC4MgAoXLi6qLNJkkrOwSgbPLfc8ZtS3FQ4upA0KgAtDDfp3TC7RmpmBJmuhzuZxKg3xTkm5Lf7ZKQk/ddtbiTkfTrdM7LmKCTLxIFZN0ezY3YIA3IocfC5JM=
  - secure: A+aS/6+UmfpT0ei64Z1j6ahUQEDbHFQsN1OVTG914oQ21yY8cBiRGYMa3jGhnO1Ykkw/74DL+kYpVHhC3+YGRvOTrmRFlddj8N8BcHVVHAtfjRkpUVb3HQY8SIdGkSRKG3G3DWcDWNRa1blTEo74zQ/VcLC9O/N7HbpcLsuf1sJDNN8QKeiNFQuZlyIzEeptz49PQfLHISAHetpxr8S2CiaQkMOS89k2iTBVQbdyyL8WHSPL1XTv0QiD/F9O+EuUUPq7S1tk1vxX3ugT4YKvQFs043eRknVQiSbqHql7xWBJehCQ0254GJ3fcwg75VmWYOBgNjkvPUnIMRYhh0UmuZCJuIbhczfJ6r0donLmUHHCHw5DXEXnbYXrfGJK5oE61RURqOfuA3y+Mle0docU0CPDvSWNEGxD+jhyDnRAr9Z/JFlkfP5BZZJngONBJU6rS168Dk7fcgi5AElf3tG6lrWZFmUAqynVvsFiFy8l5NIEMWPW9dTtrTOeq/4Cp6cW2xUCrAnbf9reYJcBP0SnODJ4LdndwnYxPL2kUUg/cfTYPHLMTFvkti5Gg9rfv2jvXk9NsGDOReUf7he3Nhsj6aLTcm+egIzGfImjT0NRj5dGsdYTi3mRCQCvw3Lx4Px245YugqyNOnUJ30TE+n+je1NoOhst5WNBV8zBqflP6G0=
  - secure: t/YstnG/PnrIqbgO9iGZgLE2zwIsdeimu8MzyZqYHaTZ02vRTwaaM5tyICrqeOhIgKgCwN8n5udvPcDiKZjHYcMUb5bOsx+pPuoMTb6a4nP4IpmTyHSW8cLW0u4z0dcaPPOY/3KnhuvZ201mk5in4Kjm2Bw/uP/DJPjpA9mfsIvhtHAcgDPtbz2q0VIQ9hqWAonJXY3MpwJxGk4IopYIYD/pg8EqVKHaFMFFgqT05Db4n0CpZT03g3ETcD6urvkMq9jAET5UBvcUMpF+OlYIcW529pf6o8hY9bUacUz2mmRia0G2cVD22CnEGISzcDnGXTJqgVO+rduVtbiX1FLgxIylZwS1dWf+KJpLlmtvwlfDO0vWUo0fD0CDVfksnUjFjHf34vBN1Ibw0QySfvzPQ85TG2oSmHdquXfEDlaccb/Zm6Nx0z6Nky1oiKDaTVeeQQ1wFR/D2PRXu1Fd4tKo72lu01DuMKACUgHEG7k1O+Md+FGmbI0Boi7N/amhD0mjPFJGkCuXxF7I8fBlZQaslagR5y34P4bql9EZ6kxHnvFGMiQHNLqaCyNBuFU47W8rmbBPvr8CgEB7uDFSypcigJH9uXsxZhDES6UzuyrnzK1n26XGyskrWVjgwJVfxXCIZ/DNDka+OSplLDljZb0SOmjiiBV4gRqwZDe9ILbUBoo=
  - secure: mS3qVg911xvXwC4hD6WisQLWYi5CijB/mGY7XuEH5575KZ8aupQMJzXg/aUVRgTN+zY72A3AHyEFv8Oga/5rbWNsAWxx3hHtL5mn/Qm5LKh1GWd8srOsvDhej1+005n+bAfUiCgF3wncDS6wwu5pNI9igfFyv7S9nAG8UQGnBPeOVWwZWqVssSAIbxtw08ckZU4SXnSVwZdhBSQ2S5KUVTSaaMD5BgypWxPbH/NOc5ym8eXIs4zuuYjYiSvVbVxjfjDDgf5m1AXWC+XIS6gUyQZxgxbkKqOxPoNO5fdprIwGQPFzeFETYpbPr73L1Ig2mFN05U6aU+cXO0ZyKCooW844nKNCFVSrIL6M/cHZqgKU/w1HBCXbUoyJ40k8C8ghtvNGvI3tMwOE4ZcPb61wvGQdqPpAZYBLOr5u5ufYSghi4a1LsNykUCMPTpPVGtUW/BoJNAVUV/tJjjfvzyG8M4DKzRDh/MzH7D7LTGyvFIsXW1kr5dA+O8WgHFJ6UnvbHm+es9Nbm3b7z7CldZ020CLFpz5C5m+X2oLVKGZ7Cip4uuVdNienot33fJos2xRnz7hWErzYNQZiTGFYsBpOt9oNJhH62y0lTHOnWKWzJOU4KtIyEJMp8ZRDY23LaYNqQmrqbjOksRW76aGOOkapxVYXnIhdn3B2Ox0bNMjMD04=
  - secure: Q7XkXI0q3Byv886xSuKREWLyP2lTaY8JhjOfN8wgB0hDQUDUDkQPLCr7vnUz9xNs66SRLQZCbB7B10baMAVSYvN3M++i18gGncIT4YYS/DnmX4Tbt7zdwT7Zj50fpP9+RLO/0PUYKjxni9IMDiS/T8iot1o602z00F5rIM4l+aekKlu78RODeuerWyXrpL3U/kepAUN6ji6XlKm5BeYW36Hw6d4VNU8EVpSPIfanex4WopvQO3RuetNXtR6IZOSR23FMRTA53bTfrajRgakUSfAm1k4XxhmG3Ch2wlwQNoOce9yiStGTvEeL4GTrEmrosQfeP8BoJYfBpV5KsyDD2EImMdQkeApScoyjw3a7osV8gMJeebEEZOS4vKKGwon9r39rx9Q8sXjgSEb6uNAVUlVKhrg6HVe9y4Rtx42+FAj8xUBp5VhxcCT0N/7S25nUlCkRtGpW8Ta3QO9ARRZ4h0jntC5qKwucKsjYa9+pYtJ0yC2kK0LqYqnqceVam0KKDLlCFnwg2RlrEDjIoIibHcV47ZfViAh6xpDzjA1V1KeNfTHgE4aYqrq44AtwFSGZPnjFonnwx1RG9Vd4fSFbDpC6SmZTtqU45Dh5haUQ/ZwqiwOWFQfCPgoJMYeNEVFxqAgRA6/NHINvDvYE3/xZjIY9LxhOPssMeKL/EpyEk6Q=
  - secure: iQD2nXuwy7IUbbbWXE8NECFyjVGMac8GEruV2j7GmGrZwCEV8Mgu0mSrL3fRhW2TpXsSiUHl2hT3rkm3vNwp/g8ciiQm1CSLYbB7hqeCQwPxSyRDDNfXVJF/comUxVVk+vDCkPtqqT68rs763iA7GY4JpKjYnsMifkf3igWNeIHMSrnZtzqFMqmslTdCgF7IOmSZU4flLNjVSQJ0e5LyIyJOXidttEWpiIiiGqd9KqIWTMC63kYyju5bU8o2pYApMViXR1pxtIDt8XhUBvpi8riPkV5wxCFkNU2MFoeEYxxBshuq/OjMRwuetsb5Zky4pahHIpqUmmUSEn2ti6hKmsT25BpZ7aohq6/JMyddJSBeHpmIy556mUgTGj4Ak8C3TNBYA4O5sH1MwxBtF2mncR4ZBwJZzkY45cAsbyft4WdOpJscJWk8fMcdIsFskHnU4kCkVmmZZOs9NsLkTdDiQs8V7xqCmnNaVZ5HUqvB/QNO2WyuHBZimVglUbofKnzAUi4D9GlX2s2CJHNtBhqDNkxroTdrmbspLz84gWCd3XuWIraHYJQ1rToI5zta3FkjN7JA/ZUW3eQt5QZ+wB6vGrFPddoAAyl1Mgc8Wc1dLEh/R9jQb0zZLHaSWtrmKYcMs95dWgQWLHXXnlcl269zRhSu4+9ZTShNo4YfyCeJBf4=
  - secure: RATqhzpv5K8oVjMAHJzLwizjCUhHw6b0t8i6Qf35k4WljywlZgJ9C4Xv1qaO3iqoaOrYioNvs3uqF1aQYlSbS6frbRO2I8nKdoS0yOM/CNrHE9AuYtwRW0AOCu+J9vPPYAF0jJ0s5ExVT7hbr/Rb7CtfHRIzij+Ot0kaeFBbEZnSc3uPIKNOAKr9h+1Jjt1CE0Ane1XFJL0QUkoHmBpWNvtXBlOVfAqpeGVfv860yfoRhmLlemXnjSjkrqR+vCm6L/8TVuNvtXcGdkTGR8V/bK5fKfGNxb7tQ7qfEhr9RMk0Uqoh5/dNi7ozSSq1tcZ0dednWSDn4rKNI0sl7TKhnxrUV/sJnkPV7LJEfNR3+HANw3RuANbozGKLmZyxHJT0Mf3Zck4QYPLlmUzDfEuWk+4Y3h8HTy2LaY8JXzrr+tZiVCnm19ZDxBL64MPtjqnRFq36LDX4QAkuSylgJ09v8heYmHn1aOX1BxuGCWvZwVxx3G71TLYZKchPTVdNK69vc/6AGaMmmgLM6UKufysWyPdF2a7bYGSFUarEByG3nt6Dd/eSFEeOQbjkgpO56CYvhhAi5Je2uUYmsIkpWRDiZsp7O1Hve27PM4KEF2AwwveDEBsjVyhJK47us7gzKKY8Dt0Jv/SGw9qQRl5OlYFnQqyxvelcHbOTREuypIQ29/4=
  - secure: MslR/e7K/ikXdUoFW5dTKh7bKtjuGCFJyKAECUZqlyjyOJhJ1A6grkntNvaN03TqZN0kERBCVe+4a4RIg0GpSpsiHS8fsLHRk4zWfntz4sGvhZ9JIQJjongMhwJdiYNszPIaS20Rsg6wsYLxQuQnZQXYmyL/9E1ncreuH7xGAq8YYW9ZAzoIqOAewtjvQv+G56PplbZXA/cF4x4cPou/iUyNHWa1WPFGlfbqePNsiylE38LOYi6Qsc2QpBONZCSJUMElejbfrjI7HLTxMGPOO9jCcdnQrlNuYntTw9wqFdKbtodRVeVfSuZj5OK3zQPx/lDpVdjZLlWf4NNp9ChFDIhnE1g7N7ph9HUkAZn9EgWJMA8BpYx7wK2bBuAy5TihRZs1HG+n9kxKq+NW2ies8BtXhuXhqpSqKkZNmpJhF+ksxNmcXTG7BqPX+kwd1MFxu7WGmAL4FfZnGxjL4Y3JtsuQ0JotKZaBuRhtS2HDvG8gZdx+hE+0LSf6SwUuSFmPXNg5nutqvTCUacN+m8QIiGDZ0TtKYWv/wTdbVZMSHferk4YToGYOy1jZyraMzV2LPtN9jY6pJFGiblG5/Mu+2Fa45sX7xDfIsigYjUhDs0cp9HKUjsRqyVZmGdihD+2zwGXAo3Re6lidnHIvXtuVPphxhyJVSdnnxCJPFv5jj2E=
  - secure: WXcA0s3sACFXl/dXXaSiTix8XQqLU0Ycn8zurhb+jvQNKP2L995rdBxDrhStoGHaRe7BUkJbCF/OZJzfMy+yTU8SLk9FgCNEF7cf+92pMjA6Fsf2nDKg77X9c77ErafVAXP/WHWosBV2ZyDxBiB08abKU1oN4vJOgUSiT6k6Rk856Q7EkwZYSNvlVIW+LQJ5MM3rML6+NA2aFf+hErwA1WPOoIKrDwdx7Ip8K2uIxJBBjG+xkREzcYrzAcWEwJLxYXJonnxsAMkstdiPhVlFqIfMY+8sAyGNPU+FJXZhJDHC3/P6MYa7m0i0jIVzBA0SysELh7HJ5e9Otkl41cPiktYklK88OMBu9hcfuQK8YUdYynmmvftMmRV0qj83GNvxeALP3sQ1H58ad2sMoqy17/aX3y4+gVMB+uUJKdLRoZjbarqc8LHS4u6vApRyZqg7K5IfJ6NgZZwenuN2crDLE2v3tvYsQOQtekPXixXns2ukK2U+n0y2fDOeoQmf5QC9/V9Ihx9xFL0NJFKJeLhi2+QTTDuSajTMSD9o7s3UPNMH6R7Px8vsV0vklK1hhDCZzzfh8w+YCZo030jDosPxNFPcG6AzZq1jXl3vX4zdXHs8w3daJN2eRHIThBDB/vcdqOTXl4DSRUDMv1bkyOwYtX5g0sdoZUpy2cB/QN6OMSM=
